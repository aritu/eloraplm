<?xml version="1.0" encoding="UTF-8"?>

<component name="com.aritu.eloraplm.search.WebLayoutManager.contrib">

  <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager" point="layouts">

    <layout name="elora_search_layout">
      <templates>
        <template mode="any">
          /layouts/layout_default_template.xhtml
        </template>
      </templates>
      <rows>
        <row>
          <widget>elora_reference_search</widget>
        </row>
        <row>
          <widget>elora_title_fulltext_search</widget>
        </row>
        <row>
          <widget>default_text_search</widget>
        </row>
        <row>
          <widget>elora_currentLifeCycleState_search</widget>
        </row>
        <row>
          <widget>elora_partClassification_search</widget>
        </row>
         <row>
          <widget>elora_productClassification_search</widget>
        </row>
       <!-- Commented for the instance, since it is not used.  
       <row>
          <widget>elora_mixinType_search</widget>
        </row>
         -->
         <row>
          <widget>elora_primaryType_search</widget>
        </row>
        <row>
          <widget>elora_bomItemType_search</widget>
        </row>
        <row>
          <widget>elora_customer_search</widget>
        </row>
        <row>
          <widget>elora_manufacturer_search</widget>
        </row>
        <row>
          <widget>elora_responsible_search</widget>
        </row>
        <row>
          <widget>elora_owner_search</widget>
        </row>
        <row>
          <widget>elora_lastContributor_search</widget>
        </row>
        <row>
          <widget>elora_modified_search</widget>
        </row>
        <row>
          <widget>elora_created_search</widget>
        </row>
        <!-- <row>
          <widget>default_collection_search</widget>
        </row> -->
        <row>
          <widget>default_location_search</widget>
        </row>
        <row>
          <widget>default_tags_search</widget>
        </row>
      </rows>
    </layout>

  </extension>


  <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager" point="widgets">
  
    <widget name="elora_reference_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">eloraplm.label.search.reference</label>
      </labels>
<!--       <translated>true</translated> -->
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="elo_reference" type="text">
          <fields>
            <field>eloras:elo_reference</field>
          </fields>
          <properties widgetMode="any">
            <property name="converter">ilikeSearchValueConverter</property>
          </properties>
        </widget>
      </subWidgets>
    </widget>
    
    
    <widget name="elora_title_fulltext_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">eloraplm.label.search.titleFulltext</label>
      </labels>
<!--       <translated>true</translated> -->
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="dc_title" type="text">
          <fields>
            <field>eloras:dc_title_fulltext</field>
          </fields>
        </widget>
      </subWidgets>
    </widget>
    
    <widget name="elora_bomItemType_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">eloraplm.label.search.bomItemType</label>
      </labels>
<!--       <translated>true</translated> -->
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="bomitem_bomItemType" type="suggestManyDirectory">
          <fields>
            <field>eloras:bomitem_bomItemType</field>
          </fields>
          <properties widgetMode="any">
            <property name="minChars">0</property>
            <property name="hideHelpLabel">true</property>
            <property name="directoryName">elora_bomItemTypes</property>
<!--             <property name="localize">true</property> -->
          </properties>
        </widget>
      </subWidgets>
    </widget>

    <widget name="elora_customer_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">label.widget.cust.customers</label>
      </labels>
<!--       <translated>true</translated> -->
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="cust_customer" type="suggestManyDirectory">
          <fields>
            <field>eloras:search_customer</field>
          </fields>
          <properties widgetMode="any">
            <property name="minChars">0</property>
            <property name="hideHelpLabel">true</property>
            <property name="directoryName">elora_erpCustomers</property>
          </properties>
        </widget>
      </subWidgets>
    </widget>

    <widget name="elora_manufacturer_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">label.widget.manu.manufacturers</label>
      </labels>
<!--       <translated>true</translated> -->
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="manu_manufacturer" type="suggestManyDirectory">
          <fields>
            <field>eloras:search_manufacturer</field>
          </fields>
          <properties widgetMode="any">
            <property name="minChars">0</property>
            <property name="hideHelpLabel">true</property>
            <property name="directoryName">elora_erpManufacturers</property>
          </properties>
        </widget>
      </subWidgets>
    </widget>

    <widget name="elora_mixinType_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">label.elora_mixinType_search.title</label>
      </labels>
      <translated>true</translated>
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="system_mixinType" type="suggestManyDirectory">
          <fields>
            <field>eloras:system_mixinType</field>
          </fields>
          <properties widgetMode="any">
            <property name="minChars">0</property>
            <property name="hideHelpLabel">true</property>
            <property name="directoryName">eloras_facetType</property>
            <property name="localize">true</property>
          </properties>
        </widget>
      </subWidgets>
    </widget>

    <widget name="elora_primaryType_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">label.elora_primaryType_search.title</label>
      </labels>
      <translated>true</translated>
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="system_primaryType" type="suggestManyDirectory">
          <fields>
            <field>eloras:system_primaryType</field>
          </fields>
          <properties widgetMode="any">
            <property name="minChars">0</property>
            <property name="hideHelpLabel">true</property>
            <property name="directoryName">eloras_docType</property>
            <property name="localize">true</property>
          </properties>
        </widget>
      </subWidgets>
    </widget>

    <widget name="elora_currentLifeCycleState_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">label.elora_currentLifeCycleState_search.title</label>
      </labels>
      <translated>true</translated>
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="system_currentLifeCycleState" type="suggestManyDirectory">
          <fields>
            <field>eloras:system_currentLifeCycleState</field>
          </fields>
          <properties widgetMode="any">
            <property name="minChars">0</property>
            <property name="hideHelpLabel">true</property>
            <property name="directoryName">eloras_lifeCycle</property>
           <!--  <property name="directoryName">elora_lifecycle_states</property>
            <property name="labelFieldName">id</property> -->
            <property name="localize">true</property>
          </properties>
        </widget>
      </subWidgets>
    </widget>

    <widget name="elora_lastContributor_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">label.dublincore.lastContributor</label>
      </labels>
      <translated>true</translated>
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="dc_lastContributor" type="multipleUsersSuggestion">
          <fields>
            <field>eloras:dc_lastContributor</field>
          </fields>
          <properties widgetMode="edit">
            <property name="userSuggestionSearchType">USER_TYPE</property>
            <property name="minChars">1</property>
            <property name="hideHelpLabel">true</property>
          </properties>
        </widget>
      </subWidgets>
    </widget>
    
    <widget name="elora_modified_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">label.dublincore.modificationDate</label>
      </labels>
      <translated>true</translated>
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="dc_modificationDate" type="datetimeRange">
          <fields>
            <field>defaults:dc_modified_min</field>
            <field>defaults:dc_modified_max</field>
          </fields>
          <properties widgetMode="edit">
            <property name="styleClass">dataInputTextDate</property>
            <property name="format">#{nxu:basicDateAndTimeFormatter()}</property>
          </properties>
        </widget>
      </subWidgets>
    </widget>
    
    <widget name="elora_created_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">label.dublincore.creationDate</label>
      </labels>
      <translated>true</translated>
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="dc_creationDate" type="datetimeRange">
          <fields>
            <field>defaults:dc_created_min</field>
            <field>defaults:dc_created_max</field>
          </fields>
          <properties widgetMode="edit">
            <property name="styleClass">dataInputTextDate</property>
            <property name="format">#{nxu:basicDateAndTimeFormatter()}</property>
          </properties>
        </widget>
      </subWidgets>
    </widget>
    
    <widget name="elora_partClassification_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">label.search.partClassification</label>
      </labels>
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="bompart_partClassification" type="suggestManyDirectory">
          <fields>
            <field>eloras:search_partClassification</field>
          </fields>
          <properties widgetMode="any">
            <property name="minChars">0</property>
            <property name="hideHelpLabel">true</property>
            <property name="directoryName">elora_bomPartClassHierarchical</property>
          </properties>
        </widget>
      </subWidgets>
    </widget>
    
    <widget name="elora_productClassification_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">label.search.productClassification</label>
      </labels>
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="bomprod_productClassification" type="suggestManyDirectory">
          <fields>
            <field>eloras:search_productClassification</field>
          </fields>
          <properties widgetMode="any">
            <property name="minChars">0</property>
            <property name="hideHelpLabel">true</property>
            <property name="directoryName">elora_bomProductClassHierarchical</property>
          </properties>
        </widget>
      </subWidgets>
    </widget>
    
    <widget name="elora_responsible_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">label.widget.responsible.responsible</label>
      </labels>
      <translated>true</translated>
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="resp_responsible" type="multipleUsersSuggestion"> 
          <fields>
            <field>eloras:search_responsible</field>
          </fields>
          <properties widgetMode="edit">
            <property name="userSuggestionSearchType">USER_TYPE</property>
            <property name="minChars">1</property>
            <property name="hideHelpLabel">true</property>
          </properties>
        </widget>
      </subWidgets>
    </widget>
    
    <widget name="elora_owner_search" type="container">
      <handlingLabels>true</handlingLabels>
      <labels>
        <label mode="any">eloraplm.label.owner</label>
      </labels>
      <translated>true</translated>
      <properties widgetMode="any">
        <property name="hideSubLabels">true</property>
      </properties>
      <subWidgets>
        <widget name="own_owner" type="suggestManyDirectory"> 
          <fields>
            <field>eloras:search_owner</field>
          </fields>
          <properties widgetMode="edit">
            <property name="width">100%</property>
            <property name="minChars">3</property>
            <property name="directoryName">elora_erpCustomers</property>
          </properties>
        </widget>
      </subWidgets>
    </widget>

  </extension>

</component>  