<?xml version="1.0" encoding="UTF-8"?>

<component name="com.aritu.eloraplm.change.management.WebLayoutManager.contrib">

  <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager" point="layouts">

    <layout name="cm_gen">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml
        </template>
      </templates>
      <rows>
        <row>
          <widget>GenPriority</widget>
        </row>
        <row>
          <widget>GenResponsible</widget>
        </row>
        <row>
          <widget>GenExpectedEndDate</widget>
        </row>
        <row>
          <widget>GenRealEndDate</widget>
        </row>
      </rows>
    </layout>
    
    <layout name="summary_cm_gen">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml
        </template>
      </templates>
      <rows>
        <row>
          <widget>GenExpectedEndDate</widget>
        </row>
        <row>
          <widget>GenRealEndDate</widget>
        </row>
      </rows>
    </layout>

   
    
    <layout name="cm_modified">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml
        </template>
      </templates>
      <rows>
        <row>
          <widget>ModifiedItemList</widget>
        </row>
      </rows>
    </layout>

    <layout name="cm_pr">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml
        </template>
      </templates>
      <rows>
        <row>
          <widget>PrReportedBy</widget>
        </row>
        <row>
          <widget>PrInterlocutor</widget>
        </row>
        <row>
          <widget>PrReason</widget>
        </row>
      </rows>
    </layout>

    <layout name="cm_ecr">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml
        </template>
      </templates>
      <rows>
        <row>
          <widget>EcrRequestedBy</widget>
          </row>
        <row>
          <widget>EcrReason</widget>
        </row>
         <row>
          <widget>EcrType</widget>
        </row>
        <row>
          <widget>EcrCause</widget>
        </row>
        <row>
          <widget>EcrProposedSolution</widget>
        </row>
        <row>
          <widget>EcrEconomicalComiteList</widget>
        </row>
        <row>
          <widget>EcrNonRecurringCost</widget>
        </row>
        <row>
          <widget>EcrRecurringCost</widget>
        </row>
        <row>
          <widget>EcrStockCost</widget>
        </row>
        <row>
          <widget>EcrProposedEcoType</widget>
        </row>
      </rows>
    </layout>

    <layout name="cm_eco">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml
        </template>
      </templates>
      <rows>
        <row>
          <widget>EcoEcoType</widget>
        </row>
      </rows>
    </layout>


    <layout name="CmPr_Task100@taskLayout">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <properties mode="any">
            <property name="nxl_colspan_0">1</property>
          </properties>
          <widget>participants</widget>
        </row>
        <row>
          <properties mode="any">
            <property name="nxl_colspan_0">1</property>
          </properties>
          <widget>comment</widget>
        </row>
      </rows>
      <widget name="participants" type="multipleUsersSuggestion">
        <labels>
          <label mode="any">wf.parallelDocumentReview.ParticipantsOnTheReview</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>['participants']</field>
        </fields>
        <properties widgetMode="edit">
<!--           <property name="operationId">UserGroup.Suggestion</property> -->
          <property name="orderable">true</property>
          <property name="placeholder">label.security.search</property>
          <property name="width">70%</property>
          <property name="prefixed">true</property>
          <property name="required">#{request.getParameter('button') == 'start_review'}</property>
        </properties>
      </widget>
      <widget name="comment" type="textarea">
        <labels>
          <label mode="any">wf.parallelDocumentReview.comment</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>['comment']</field>
        </fields>
      </widget>
    </layout>

    <layout name="CmPr_Task200@taskLayout">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <properties mode="any">
            <property name="nxl_colspan_0">1</property>
          </properties>
          <widget>initiatorComment</widget>
        </row>
        <row>
          <properties mode="any">
            <property name="nxl_colspan_0">1</property>
          </properties>
          <widget>comment</widget>
        </row>
        <row>
          <properties mode="any">
            <property name="nxl_colspan_0">1</property>
          </properties>
          <widget/>
        </row>
        <row>
          <properties mode="any">
            <property name="nxl_colspan_0">1</property>
          </properties>
          <widget/>
        </row>
      </rows>
      <widget name="initiatorComment" type="textarea">
        <labels>
          <label mode="any">wf.parallelDocumentReview.initiatorComment</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>['initiatorComment']</field>
        </fields>
        <widgetModes>
          <mode value="edit">view</mode>
        </widgetModes>
      </widget>
      <widget name="comment" type="textarea">
        <labels>
          <label mode="any">wf.parallelDocumentReview.reviewerComment</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>['comment']</field>
        </fields>
      </widget>
    </layout>

   
    
    
    <!-- treetable layouts - Modified Items, DOC Impacted Items, BOM Impacted Items  -->
    <layout name="cm_modified_items_treetable">
      <templates>
        <template mode="any">/layouts/layout_treetable_template.xhtml
        </template>
      </templates>
      <columns>
        <column name="origin_item">
          <properties mode="any">
            <property name="columnStyleClass">ellipsisWhenOverflow</property>
            <property name="columnHeading">label.treetable.column.cm.originItem</property>
          </properties>
          <widget>cm_origin_item</widget>
        </column>
        <column name="origin_item_version">
          <properties mode="any">
            <property name="columnStyle">width: 7em;</property>
          </properties>
          <widget>cm_origin_item_version</widget>
        </column>
        <column name="origin_item_lock_icon">
          <properties mode="any">
            <property name="columnStyle">width: 40px;</property>
            <property name="columnStyleClass">alignCenter</property>
          </properties>
          <widget>cm_origin_item_lock_icon</widget>
        </column>
        <column name="origin_item_state">
          <properties mode="any">
            <property name="columnStyle">width: 9em;</property>
          </properties>
          <widget>cm_origin_item_state</widget>
        </column>
        <column name="action">
          <properties mode="any">
            <property name="columnStyle">width: 11em;</property>
            <property name="columnHeading">label.treetable.column.cm.action</property>
          </properties>
          <widget>cm_action</widget>
        </column>
        
        <column name="destination_item">
          <properties mode="any">
            <property name="columnStyleClass">ellipsisWhenOverflow</property>
            <property name="columnHeading">label.treetable.column.cm.destinationItem</property>
          </properties>
          <widget>cm_destination_item</widget>
        </column>
        <column name="destination_item_version">
          <properties mode="any">
            <property name="columnStyle">width: 7em;</property>
          </properties>
          <widget>cm_destination_item_version</widget>
        </column>
        <column name="destination_item_lock_icon">
          <properties mode="any">
            <property name="columnStyle">width: 40px;</property>
            <property name="columnStyleClass">alignCenter</property>
          </properties>
          <widget>cm_destination_item_lock_icon</widget>
        </column>
        <column name="destination_item_state">
          <properties mode="any">
            <property name="columnStyle">width: 9em;</property>
          </properties>
          <widget>cm_destination_item_state</widget>
        </column>
         <column name="is_managed">
          <properties mode="any">
            <property name="columnStyle">width: 80px;</property>
            <property name="columnStyleClass">alignCenter</property>
            <property name="columnHeading">label.treetable.column.cm.isManaged</property>
          </properties>
          <widget>cm_is_managed</widget>
        </column>
        <column name="options">
          <properties mode="any">
            <property name="columnStyle">width: 40px;</property>
            <property name="columnStyleClass">alignCenter</property>
          </properties>
          <widget>cm_options</widget>
        </column>
      </columns>
      <properties mode="any">
        <property name="tableTitle">title.treetable.cm.modifiedItems</property>
        <property name="showButtons">true</property>
        <property name="isEditable">true</property>
      </properties>
    </layout>

    <layout name="cm_doc_impacted_items_treetable">
      <templates>
        <template mode="any">/layouts/layout_treetable_template.xhtml
        </template>
      </templates>
      <columns>
        <column name="origin_item">
          <properties mode="any">
            <!-- <property name="columnStyleClass">ellipsisWhenOverflow</property> -->
            <property name="columnHeading">label.treetable.column.cm.originItem</property>
          </properties>
          <widget>cm_origin_item</widget>
        </column>
        <column name="origin_item_version">
          <properties mode="any">
            <property name="columnStyle">width: 7em;</property>
          </properties>
          <widget>cm_origin_item_version</widget>
        </column>
        <column name="origin_item_lock_icon">
          <properties mode="any">
            <property name="columnStyle">width: 40px;</property>
            <property name="columnStyleClass">alignCenter</property>
          </properties>
          <widget>cm_origin_item_lock_icon</widget>
        </column>
        <column name="origin_item_state">
          <properties mode="any">
            <property name="columnStyle">width: 9em;</property>
          </properties>
          <widget>cm_origin_item_state</widget>
        </column>
        <column name="action">
          <properties mode="any">
            <property name="columnStyle">width: 11em;</property>
            <property name="columnHeading">label.treetable.column.cm.action</property>
          </properties>
          <widget>cm_action</widget>
        </column>
        <column name="destination_item">
          <properties mode="any">
            <!-- <property name="columnStyleClass">ellipsisWhenOverflow</property> -->
            <property name="columnHeading">label.treetable.column.cm.destinationItem</property>
          </properties>
          <widget>cm_destination_item</widget>
        </column>
        <column name="destination_item_version">
          <properties mode="any">
            <property name="columnStyle">width: 7em;</property>
          </properties>
          <widget>cm_destination_item_version</widget>
        </column>
        <column name="destination_item_lock_icon">
          <properties mode="any">
            <property name="columnStyle">width: 40px;</property>
            <property name="columnStyleClass">alignCenter</property>
          </properties>
          <widget>cm_destination_item_lock_icon</widget>
        </column>
        <column name="destination_item_state">
          <properties mode="any">
            <property name="columnStyle">width: 9em;</property>
          </properties>
          <widget>cm_destination_item_state</widget>
        </column>
        <column name="is_managed">
          <properties mode="any">
            <property name="columnStyle">width: 80px;</property>
            <property name="columnStyleClass">alignCenter</property>
            <property name="columnHeading">label.treetable.column.cm.isManaged</property>
          </properties>
          <widget>cm_is_managed</widget>
        </column>
        <column name="message">
          <properties mode="any">
            <property name="columnStyle">width: 40px;</property>
            <property name="columnStyleClass">alignCenter</property>
          </properties>
          <!-- <widget>cm_message</widget> TODO -->
        </column>
      </columns>
      <properties mode="any">
        <property name="tableTitle">title.treetable.cm.docImpactedItems</property>
        <property name="showButtons">true</property>
        <property name="isEditable">true</property>
      </properties>
    </layout>

    <layout name="cm_bom_impacted_items_treetable">
      <templates>
        <template mode="any">/layouts/layout_treetable_template.xhtml
        </template>
      </templates>
      <columns>
        <column name="origin_item">
          <properties mode="any">
            <!-- <property name="columnStyleClass">ellipsisWhenOverflow</property> -->
            <property name="columnHeading">label.treetable.column.cm.originItem</property>
          </properties>
          <widget>cm_origin_item</widget>
        </column>
        <column name="origin_item_version">
          <properties mode="any">
            <property name="columnStyle">width: 7em;</property>
          </properties>
          <widget>cm_origin_item_version</widget>
        </column>
        <column name="origin_item_lock_icon">
          <properties mode="any">
            <property name="columnStyle">width: 40px;</property>
            <property name="columnStyleClass">alignCenter</property>
          </properties>
          <widget>cm_origin_item_lock_icon</widget>
        </column>
        <column name="origin_item_state">
          <properties mode="any">
            <property name="columnStyle">width: 9em;</property>
          </properties>
          <widget>cm_origin_item_state</widget>
        </column>
        <column name="action">
          <properties mode="any">
            <property name="columnStyle">width: 11em;</property>
            <property name="columnHeading">label.treetable.column.cm.action</property>
          </properties>
          <widget>cm_action</widget>
        </column>
        <column name="destination_item">
          <properties mode="any">
            <!-- <property name="columnStyleClass">ellipsisWhenOverflow</property> -->
            <property name="columnHeading">label.treetable.column.cm.destinationItem</property>
          </properties>
          <widget>cm_destination_item</widget>
        </column>
        <column name="destination_item_version">
          <properties mode="any">
            <property name="columnStyle">width: 7em;</property>
          </properties>
          <widget>cm_destination_item_version</widget>
        </column>
        <column name="destination_item_lock_icon">
          <properties mode="any">
            <property name="columnStyle">width: 40px;</property>
            <property name="columnStyleClass">alignCenter</property>
          </properties>
          <widget>cm_destination_item_lock_icon</widget>
        </column>
        <column name="destination_item_state">
          <properties mode="any">
            <property name="columnStyle">width: 9em;</property>
          </properties>
          <widget>cm_destination_item_state</widget>
        </column>
        <column name="is_managed">
          <properties mode="any">
            <property name="columnStyle">width: 80px;</property>
            <property name="columnStyleClass">alignCenter</property>
            <property name="columnHeading">label.treetable.column.cm.isManaged</property>
          </properties>
          <widget>cm_is_managed</widget>
        </column>
        <column name="message">
          <properties mode="any">
            <property name="columnStyle">width: 40px;</property>
            <property name="columnStyleClass">alignCenter</property>
            <property name="isEditable">true</property>
          </properties>
          <!-- <widget>cm_message</widget> TODO-->
        </column>
      </columns>
      <properties mode="any">
        <property name="tableTitle">title.treetable.cm.bomImpactedItems</property>
        <property name="showButtons">true</property>
        <!-- <property name="isEditable">true</property> -->
      </properties>
    </layout>
    <!-- End of treetable layouts - Modified Items, DOC Impacted Items, BOM Impacted Items  -->

  </extension>


  <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager" point="widgettypes">
  
    <!-- New header for CM process documents summary tab -->
    <widgetType name="cm_summary_document_header">
      <configuration>
        <title>CM Header</title>
        <description>
          <p>
            This widget displays the header of CM documents in the summary tab.
          </p>
          <p>
            It requires the following variables to be present in the EL context:
            <ul>
              <li>currentDocument: the current document</li>
              <li>currentDocumentVersionInfo: the current document version information</li>
            </ul>
          </p>
        </description>
        <handlingLabels>true</handlingLabels>
        <categories>
          <category>summary</category>
        </categories>
        <supportedModes>
          <mode>view</mode>
        </supportedModes>
        <!-- no configurable properties -->
      </configuration>
      <handler-class>
        org.nuxeo.ecm.platform.forms.layout.facelets.plugins.TemplateWidgetTypeHandler
      </handler-class>
      <property name="template">
        /widgets/summary/cm_metadata_header_widget_template.xhtml
      </property>
    </widgetType>
    
  </extension>


  <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager" point="widgets">

    <widget name="GenResponsible" type="singleUserSuggestion">
      <labels>
        <label mode="any">label.widget.CM.GenResponsible</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmgen:responsible</field>
      </fields>
      <properties mode="any">
        <property name="userSuggestionSearchType">USER_TYPE</property>
        <property name="minChars">1</property>
      </properties>
      <controls mode="any">
        <!-- enable ajax submit on change/click/select on demo application -->
        <control name="supportInsideInputWidgetEffects">true</control>
      </controls>
    </widget>

    <widget name="GenPriority" type="suggestOneDirectory">
      <labels>
        <label mode="any">label.widget.CM.GenPriority</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmgen:priority</field>
      </fields>
      <properties widgetMode="any">
        <property name="directoryName">elora_cmPriority</property>
        <property name="required">false</property>
      </properties>
    </widget>

    <widget name="GenExpectedEndDate" type="datetime">
      <labels>
        <label mode="any">label.widget.CM.GenExpectedEndDate</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmgen:expectedEndDate</field>
      </fields>
    </widget>

    <widget name="GenRealEndDate" type="datetime">
      <labels>
        <label mode="any">label.widget.CM.GenRealEndDate</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmgen:realEndDate</field>
      </fields>
    </widget>


    <widget name="PrReportedBy" type="complex">
      <labels>
        <label mode="any">label.widget.CM.PrReportedBy</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmpr:reportedBy</field>
      </fields>
      <subWidgets>
        <widget name="ReportedByName" type="text">
          <labels>
            <label mode="any">label.widget.CM.ReportedByName</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>name</field>
          </fields>
        </widget>
        <widget name="ReportedByEmail" type="text">
          <labels>
            <label mode="any">label.widget.CM.ReportedByEmail</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>email</field>
          </fields>
        </widget>
        <widget name="ReportedByTelephone" type="text">
          <labels>
            <label mode="any">label.widget.CM.ReportedByTelephone</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>telephone</field>
          </fields>
        </widget>        
      </subWidgets>
    </widget>

    <widget name="PrInterlocutor" type="singleUserSuggestion">
      <labels>
        <label mode="any">label.widget.CM.PrInterlocutor</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmpr:interlocutor</field>
      </fields>
      <properties mode="any">
        <property name="userSuggestionSearchType">USER_TYPE</property>
        <property name="minChars">1</property>
      </properties>
      <controls mode="any">
        <!-- enable ajax submit on change/click/select on demo application -->
        <control name="supportInsideInputWidgetEffects">true</control>
      </controls>
    </widget>

    <widget name="PrReason" type="textarea">
      <labels>
        <label mode="any">label.widget.CM.PrReason</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmpr:reason</field>
      </fields>
    </widget>


    <widget name="EcrRequestedBy" type="singleUserSuggestion">
      <labels>
        <label mode="any">label.widget.CM.EcrRequestedBy</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmecr:requestedBy</field>
      </fields>
      <properties mode="any">
        <property name="userSuggestionSearchType">USER_TYPE</property>
        <property name="minChars">1</property>
      </properties>
      <controls mode="any">
        <!-- enable ajax submit on change/click/select on demo application -->
        <control name="supportInsideInputWidgetEffects">true</control>
      </controls>
    </widget>

    <widget name="EcrReason" type="textarea">
      <labels>
        <label mode="any">label.widget.CM.EcrReason</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmecr:reason</field>
      </fields>
    </widget>

    <widget name="EcrType" type="suggestOneDirectory">
      <labels>
        <label mode="any">label.widget.CM.EcrType</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmecr:ecrType</field>
      </fields>
      <properties widgetMode="any">
        <property name="directoryName">elora_cmEcrType</property>
        <property name="required">false</property>
      </properties>
    </widget>

    <widget name="EcrCause" type="textarea">
      <labels>
        <label mode="any">label.widget.CM.EcrCause</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmecr:cause</field>
      </fields>
    </widget>

    <widget name="EcrProposedSolution" type="textarea">
      <labels>
        <label mode="any">label.widget.CM.EcrProposedSolution</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmecr:proposedSolution</field>
      </fields>
    </widget>

    <widget name="EcrEconomicalComiteList" type="list">
      <labels>
        <label mode="any">label.widget.CM.EcrEconomicalComiteList</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmecr:economicalComiteList</field>
      </fields>
      <properties widgetMode="any">
          <property name="display">table</property>
      </properties>
      <subWidgets>
        <widget name="EcrComiteUser" type="singleUserSuggestion">
          <labels>
            <label mode="any">label.widget.CM.EcrComiteUser</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>comiteUser</field>
          </fields>
          <properties mode="any">
            <property name="userSuggestionSearchType">USER_TYPE</property>
            <property name="minChars">1</property>
          </properties>
          <controls mode="any">
            <!-- enable ajax submit on change/click/select on demo application -->
            <control name="supportInsideInputWidgetEffects">true</control>
          </controls>
        </widget>
      </subWidgets>
    </widget>

    <widget name="EcrNonRecurringCost" type="complex">
      <labels>
        <label mode="any">label.widget.CM.EcrNonRecurringCost</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmecr:nonRecurringCost</field>
      </fields>
      <subWidgets>
        <widget name="EcrCost" type="text">
          <labels>
            <label mode="any">label.widget.CM.EcrCost</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>cost</field>
          </fields>
        </widget>
        <widget name="EcrComment" type="textarea">
          <labels>
            <label mode="any">label.widget.CM.EcrComment</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>comment</field>
          </fields>
        </widget>
      </subWidgets>
    </widget>

    <widget name="EcrRecurringCost" type="complex">
      <labels>
        <label mode="any">label.widget.CM.EcrRecurringCost</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmecr:recurringCost</field>
      </fields>
      <subWidgets>
        <widget name="EcrCost" type="text">
          <labels>
            <label mode="any">label.widget.CM.EcrCost</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>cost</field>
          </fields>
        </widget>
        <widget name="EcrComment" type="textarea">
          <labels>
            <label mode="any">label.widget.CM.EcrComment</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>comment</field>
          </fields>
        </widget>
      </subWidgets>
    </widget>

    <widget name="EcrStockCost" type="complex">
      <labels>
        <label mode="any">label.widget.CM.EcrStockCost</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmecr:stockCost</field>
      </fields>
      <subWidgets>
        <widget name="EcrCost" type="text">
          <labels>
            <label mode="any">label.widget.CM.EcrCost</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>cost</field>
          </fields>
        </widget>
        <widget name="EcrComment" type="textarea">
          <labels>
            <label mode="any">label.widget.CM.EcrComment</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>comment</field>
          </fields>
        </widget>
      </subWidgets>
    </widget>

    <widget name="EcrProposedEcoType" type="suggestOneDirectory">
      <labels>
        <label mode="any">label.widget.CM.EcrProposedEcoType</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmecr:proposedEcoType</field>
      </fields>
      <properties widgetMode="any">
        <property name="directoryName">elora_cmEcoType</property>
        <property name="required">false</property>
      </properties>
    </widget>

    <widget name="EcoEcoType" type="suggestOneDirectory">
      <labels>
        <label mode="any">label.widget.CM.EcoEcoType</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>cmeco:ecoType</field>
      </fields>
      <properties widgetMode="any">
        <property name="directoryName">elora_cmEcoType</property>
        <property name="required">false</property>
      </properties>
    </widget>

  
    
    <!-- Relation creation buttons -->
    
    <widget name="cmProcessRelationButton" type="documentActions">
      <properties widgetMode="view">
        <property name="category">CM_PROCESS_RELATION_BUTTON</property>
        <property name="overallDisplay">horizontal_block</property>
      </properties>
      <controls mode="any">
        <control name="requireSurroundingForm">false</control>
        <control name="gridStyleClass">gridStyle12</control>
      </controls>
    </widget>
    
    <!-- End of Relation creation buttons -->
    
    
    
    <widget name="ModifiedItemList" type="list">
      <labels>
        <label mode="any">label.widget.CM.ModifiedItemList</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>mod:modifiedItemList</field>
      </fields>
      <properties widgetMode="any">
          <property name="display">table</property>
      </properties>
      <subWidgets>
        <widget name="originItem" type="singleDocumentSuggestion">
          <labels>
            <label mode="any">label.widget.CM.originItem</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>originItem</field>
          </fields>
        </widget>
        <widget name="originItemWc" type="singleDocumentSuggestion">
          <labels>
            <label mode="any">label.widget.CM.originItemWc</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>originItemWc</field>
          </fields>
        </widget>
        <widget name="action" type="text">
          <labels>
            <label mode="any">label.widget.CM.action</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>action</field>
          </fields>
        </widget>
        <widget name="destinationItem" type="singleDocumentSuggestion">
          <labels>
            <label mode="any">label.widget.CM.destinationItem</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>destinationItem</field>
          </fields>
        </widget>      
        <widget name="isManaged" type="checkbox">
          <labels>
            <label mode="any">label.widget.CM.isManaged</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>isManaged</field>
          </fields>
          <properties widgetMode="edit">
            <property name="styleClass">dataInputText</property>
          </properties>
          <controls mode="any">
            <!-- enable ajax submit on change/click/select on demo application -->
            <control name="supportInsideInputWidgetEffects">true</control>
          </controls>
        </widget>
        <widget name="type" type="text">
          <labels>
            <label mode="any">label.widget.CM.type</label>
          </labels>
          <translated>true</translated>
          <fields>
            <field>type</field>
          </fields>
        </widget>
      </subWidgets>
    </widget>
    
    <!-- treetable widgets - Modified Items, DOC Impacted Items, BOM Impacted Items  -->
    <widget name="cm_modified_items_treetable" type="treetable">
        <labels>
            <label mode="any"></label>
        </labels>
        <fields>
            <field>data</field>
        </fields>
        <properties widgetMode="any">
            <property name="treetableLayout">cm_modified_items_treetable</property>
        </properties>
    </widget>
    
    <widget name="cm_doc_impacted_items_treetable" type="treetable">
        <labels>
            <label mode="any"></label>
        </labels>
        <fields>
            <field>data</field>
        </fields>
        <properties widgetMode="any">
            <property name="treetableLayout">cm_doc_impacted_items_treetable</property>
        </properties>
    </widget>
    
    <widget name="cm_bom_impacted_items_treetable" type="treetable">
        <labels>
            <label mode="any"></label>
        </labels>
        <fields>
            <field>data</field>
        </fields>
        <properties widgetMode="any">
            <property name="treetableLayout">cm_bom_impacted_items_treetable</property>
        </properties>
    </widget>
    <!-- End of treetable widgets - Modified Items, DOC Impacted Items, BOM Impacted Items  -->
    
    
    <widget name="cm_origin_item" type="listing_icon_reference_title">
      <labels>
        <label mode="any">label.widget.CM.originItem</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>originItem</field>
        <field>originItem.ref</field>
      </fields>
      <properties mode="any">
        <!-- TODO Hau aldatu ??? -->
        <property name="isInRelationListing">false</property>
      </properties>
    </widget>
    
    
    <widget name="cm_origin_item_version" type="listing_version_and_visualized_type">
        <labels>
            <label mode="any">label.version</label>
        </labels>
        <fields>
            <field>originItem</field>
        </fields>
    </widget>
    
    <widget name="cm_origin_item_lock_icon" type="listing_version_lock_icon">
      <labels>
        <label mode="any"/>
      </labels>
      <fields>
        <field>originItem</field>
      </fields>
    </widget>
    
    <widget name="cm_origin_item_state" type="text">
      <labels>
        <label mode="any">label.content.header.currentLifecycleState</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>originItem.currentLifeCycleState</field>
      </fields>
      <properties mode="any">
        <property name="localize">true</property>
        <property name="styleClass">lifeCycleStateLabel hollow</property>
        <property name="style">
          border-color: #{lifecycleActions.getLifeCycleStateColor(value.originItem.currentLifeCycleState)};
          color: #{lifecycleActions.getLifeCycleStateColor(value.originItem.currentLifeCycleState)};
        </property>
      </properties>
    </widget>
    
    
    <widget name="cm_action" type="template">
      <labels>
        <label mode="any"></label>
      </labels>
      <translated>true</translated>
      <fields>
          <field>action</field>
          <field>isModifiedItem</field>
          <field>actionIsReadOnly</field>
        </fields>
      <properties mode="any">
        <property name="template">/widgets/cm_action_widget.xhtml</property>
      </properties>
    </widget>
    
    
    
    <widget name="cm_destination_item" type="listing_icon_reference_title">
      <labels>
        <label mode="any">label.widget.CM.destinationItem</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>destinationItem</field>
        <field>destinationItem.ref</field>
      </fields>
      <properties mode="any">
        <!-- TODO Hau aldatu ??? -->
        <property name="isInRelationListing">false</property>
      </properties>
    </widget>
    
    <widget name="cm_destination_item_version" type="listing_version_and_visualized_type">
        <labels>
            <label mode="any">label.version</label>
        </labels>
        <fields>
            <field>destinationItem</field>
        </fields>
    </widget>    
    
    <widget name="cm_destination_item_lock_icon" type="listing_version_lock_icon">
      <labels>
        <label mode="any"/>
      </labels>
      <fields>
        <field>destinationItem</field>
      </fields>
    </widget>
    
    <widget name="cm_destination_item_state" type="text">
      <labels>
        <label mode="any">label.content.header.currentLifecycleState</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>destinationItem.currentLifeCycleState</field>
      </fields>
      <properties mode="any">
        <property name="localize">true</property>
        <property name="styleClass">lifeCycleStateLabel hollow</property>
        <property name="style">
          border-color: #{lifecycleActions.getLifeCycleStateColor(value.destinationItem.currentLifeCycleState)};
          color: #{lifecycleActions.getLifeCycleStateColor(value.destinationItem.currentLifeCycleState)};
        </property>
      </properties>
    </widget>
    
    <widget name="cm_is_managed" type="template">
      <labels>
        <label mode="any"></label>
      </labels>
      <translated>true</translated>
      <fields>
          <field>isManaged</field>
          <field>isManagedIsReadOnly</field>
        </fields>
      <properties mode="any">
        <property name="template">/widgets/cm_is_managed_widget.xhtml</property>
      </properties>
    </widget>
    
    <widget name="cm_options" type="template">
      <labels>
        <label mode="any"></label>
      </labels>
      <translated>true</translated>
      <properties mode="any">
        <property name="template">/widgets/cm_options_widget.xhtml</property>
      </properties>
    </widget>
    <!-- end of treetable widgets -->
    
    
    <widget name="cm_summary_document_header" type="cm_summary_document_header">
      <widgetModes>
        <mode value="any">
          #{currentDocument.hasFacet('CMProcess')?'view':'hidden'}
        </mode>
      </widgetModes>
      <labels>
        <label mode="any"></label>
      </labels>
      <controls mode="any">
        <control name="handleLabels">true</control>
      </controls>
    </widget>
    
    <!-- Summary right panel widgets -->
    
    <widget name="summary_cm_source_documents" type="summary_related_inverse_documents">
      <labels>
        <label mode="any">label.widget.CM.title.source</label>
      </labels>
      <properties mode="any">
        <property name="documentRelations">#{incomingCmRelations}</property>
      </properties>
      <controls mode="any">
        <control name="requireSurroundingForm">true</control>
        <control name="handleLabels">true</control>
      </controls>
    </widget>
    
    <widget name="summary_cm_target_documents" type="summary_related_documents">
      <labels>
        <label mode="any">label.widget.CM.title.target</label>
      </labels>
      <properties mode="any">
        <property name="documentRelations">#{outgoingCmRelations}</property>
      </properties>
      <controls mode="any">
        <control name="requireSurroundingForm">true</control>
        <control name="handleLabels">true</control>
      </controls>
    </widget>
    
    <!-- End of Summary right panel widgets -->

  </extension>
</component>