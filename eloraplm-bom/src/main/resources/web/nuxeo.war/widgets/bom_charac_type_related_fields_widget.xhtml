<f:subview
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:nxl="http://nuxeo.org/nxforms/layout"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  id="#{widget.id}">
  
  <nxu:set var="bomCharacType" value="#{value.bomcharcmas.type}">
    
    <c:choose>
      <c:when test="#{layout.mode == 'create'}">
        <tr>
          <td class="labelColumn">
            <h:outputText value="#{messages['label.widget.bomcharac.type']}" class="required"/>
          </td>
          <td class="fieldColumn">
            <a4j:region id="bomCharacType_region">
              <nxl:widget name="bomCharacType" mode="edit" value="#{value}" >
                <f:ajax event="change"
                   listener="#{bomCharacteristicMasters.resetTypeRelatedFields(value)}"
                   render="numberPanelId stringPanelId datePanelId booleanPanelId listPanelId"
                   execute="@this" />
              </nxl:widget>
            </a4j:region>
          </td>
        </tr>
        
        <ui:include src="bom_charac_type_related_fields_widget_create_rows.xhtml" />
        
      </c:when>
     
      <c:when test="#{layout.mode == 'edit' || nxl:isLikeViewMode(widget.mode)}">   
        <tr>
          <td class="labelColumn">
            <h:outputText value="#{messages['label.widget.bomcharac.type']}"/>
          </td>
          <td class="fieldColumn">
            <nxl:widget name="bomCharacType" mode="view" value="#{value}"/>
          </td>
        </tr>
        
         <ui:include src="bom_charac_type_related_fields_widget_edit_view_rows.xhtml" />
        
      </c:when>
    </c:choose>
  </nxu:set>

</f:subview>