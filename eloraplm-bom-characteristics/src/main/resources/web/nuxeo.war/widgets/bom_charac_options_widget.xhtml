<ui:composition
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:nxl="http://nuxeo.org/nxforms/layout"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:c="http://java.sun.com/jstl/core">
  
  <h:panelGroup layout="block" id="#{widget.id}" rendered="#{widget.mode eq 'edit'}">
    
    <ui:fragment rendered="#{currentDocument.type == 'BomPart' and !field}">
        <a4j:commandButton
            actionListener="#{bomPartCharacteristicsTreeBean.markNodeAsRemoved(node)}"
            render="#{treeWidgetId}"
            execute="@this" 
            image="/icons/row_delete_16.png"
            title="#{messages['eloraplm.command.remove']}"
            rendered="#{not nodeData.isRemoved}"
        />
        <a4j:commandButton
            actionListener="#{bomPartCharacteristicsTreeBean.unmarkNodeAsRemoved(node)}"
            render="#{treeWidgetId}"
            execute="@this" 
            image="/icons/row_undo_delete_16.png"
            title="#{messages['eloraplm.command.undoRemove']}"
            rendered="#{nodeData.isRemoved}"
        />
    </ui:fragment>
    <ui:fragment rendered="#{currentDocument.type == 'BomTool' and !field}">
        <a4j:commandButton
            actionListener="#{bomToolCharacteristicsTreeBean.markNodeAsRemoved(node)}"
            render="#{treeWidgetId}"
            execute="@this" 
            image="/icons/row_delete_16.png"
            title="#{messages['eloraplm.command.remove']}"
            rendered="#{not nodeData.isRemoved}"
        />
        <a4j:commandButton
            actionListener="#{bomToolCharacteristicsTreeBean.unmarkNodeAsRemoved(node)}"
            render="#{treeWidgetId}"
            execute="@this" 
            image="/icons/row_undo_delete_16.png"
            title="#{messages['eloraplm.command.undoRemove']}"
            rendered="#{nodeData.isRemoved}"
        />
    </ui:fragment>
    
    <ui:fragment rendered="#{currentDocument.type == 'BomPackaging' and !field}">
        <a4j:commandButton
            actionListener="#{bomPackagingCharacteristicsTreeBean.markNodeAsRemoved(node)}"
            render="#{treeWidgetId}"
            execute="@this" 
            image="/icons/row_delete_16.png"
            title="#{messages['eloraplm.command.remove']}"
            rendered="#{not nodeData.isRemoved}"
        />
        <a4j:commandButton
            actionListener="#{bomPackagingCharacteristicsTreeBean.unmarkNodeAsRemoved(node)}"
            render="#{treeWidgetId}"
            execute="@this" 
            image="/icons/row_undo_delete_16.png"
            title="#{messages['eloraplm.command.undoRemove']}"
            rendered="#{nodeData.isRemoved}"
        />
    </ui:fragment>
    
    <ui:fragment rendered="#{currentDocument.type == 'BomSpecification' and !field}">
        <a4j:commandButton
            actionListener="#{bomSpecificationCharacteristicsTreeBean.markNodeAsRemoved(node)}"
            render="#{treeWidgetId}"
            execute="@this" 
            image="/icons/row_delete_16.png"
            title="#{messages['eloraplm.command.remove']}"
            rendered="#{not nodeData.isRemoved}"
        />
        <a4j:commandButton
            actionListener="#{bomSpecificationCharacteristicsTreeBean.unmarkNodeAsRemoved(node)}"
            render="#{treeWidgetId}"
            execute="@this" 
            image="/icons/row_undo_delete_16.png"
            title="#{messages['eloraplm.command.undoRemove']}"
            rendered="#{nodeData.isRemoved}"
        />
    </ui:fragment>
    
    <ui:fragment rendered="#{currentDocument.type == 'BomProduct' and !field}">
        <a4j:commandButton
            actionListener="#{bomProductCharacteristicsTreeBean.markNodeAsRemoved(node)}"
            render="#{treeWidgetId}"
            execute="@this" 
            image="/icons/row_delete_16.png"
            title="#{messages['eloraplm.command.remove']}"
            rendered="#{not nodeData.isRemoved}"
        />
        <a4j:commandButton
            actionListener="#{bomProductCharacteristicsTreeBean.unmarkNodeAsRemoved(node)}"
            render="#{treeWidgetId}"
            execute="@this" 
            image="/icons/row_undo_delete_16.png"
            title="#{messages['eloraplm.command.undoRemove']}"
            rendered="#{nodeData.isRemoved}"
        />
    </ui:fragment>
    

  </h:panelGroup>
  
</ui:composition>
