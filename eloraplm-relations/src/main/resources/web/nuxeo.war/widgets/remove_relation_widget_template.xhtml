<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui">
    
    <h:panelGroup layout="block" id="#{widget.id}" rendered="#{isVisible}">

        <h:commandButton
            image="/icons/row_delete_16.png"
            title="#{messages['eloraplm.command.remove']}"
            alt=""
            rendered="#{isSpecial == 'false' and not nodeData.isRemoved}">
            
            <p:ajax
                listener="#{treeBean.markRelationNodeAsRemoved(component.namingContainer, node, currentDocument, isAnarchic)}"
                process="@this"
                partialSubmit="true"
                onstart="preparePartialAjaxUpdate(cfg.source)"
                onsuccess="markTreeNodeAsRemoved()"
                />
                
        </h:commandButton>
        
        <h:commandButton
            image="/icons/row_undo_delete_16.png"
            title="#{messages['eloraplm.command.undoRemove']}"
            alt=""
            rendered="#{isSpecial == 'false' and nodeData.isRemoved}">
            
            <p:ajax
                listener="#{treeBean.unmarkRelationNodeAsRemoved(component.namingContainer, node, currentDocument, isAnarchic)}"
                process="@this"
                partialSubmit="true"
                onstart="preparePartialAjaxUpdate(cfg.source)"
                onsuccess="unmarkTreeNodeAsRemoved()"
                />
                
        </h:commandButton>
        
        <h:commandButton
            image="/icons/delete.png"
            title="#{messages['eloraplm.message.info.relation.mustRemoveFromSubject']}"
            alt=""
            style="cursor: not-allowed"
            rendered="#{isSpecial == 'true'}"
            />
        
    </h:panelGroup>
    
</ui:composition>
