<?xml version="1.0" encoding="UTF-8"?>

<component name="com.aritu.eloraplm.viewer.filename.api.FilenameService">
    <documentation>
        Service to configure the name of the files generated by Elora Plm.
    </documentation>
    
    <implementation class="com.aritu.eloraplm.viewer.filename.api.FilenameServiceImpl"/>

    <service>
        <provide interface="com.aritu.eloraplm.viewer.filename.api.FilenameService"/>
    </service>
    
    <extension-point name="filenames">
        <documentation>
            Used to define how create the name of a file.
            
            It can be a concatenation of different values or name parts.
                        
            <p/>
            namePart:
            - order: order of the name part in the concatenation
            - type: xpath / method / fixed
              If type is xpath, xpath attribute needed; if it is method, method attribute needed; if it is fixed, value attribute needed
            - postProcessor: method for processing obtained value
            <p/>
            Conditions:
            - allRequired: by default it is true, so all condition elements must be true; if false, then if just one condition is fulfilled, the text will be shown
            
            Condition:
            A namePart can have one or more conditions to be included or not in the concatenation
            
            - type: xpath / method
              If type is xpath, xpath attribute needed; if it is method, method attribute needed
            - operator: equals / notEquals / in / notIn
            - value is a simple text
            
            <code>
                <filename id="..." >
                    <namePart type="xpath" xpath="..."  />
                    <namePart type="method" method="..."  />
                    <namePart type="fixed" value="..." >
                        <conditions allRequired="true/false">
                            <condition type="xpath" xpath="..." operator="equals" value="..." />
                            <condition type="method" method="..." operator="notEquals" value="..." />
                        </conditions>
                    </namePart>

                </filename>
            </code>
        </documentation>
        <object class="com.aritu.eloraplm.viewer.filename.api.FilenameDescriptor" />
    </extension-point>

</component> 
