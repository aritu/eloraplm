<?xml version="1.0" encoding="UTF-8"?>

<component name="com.aritu.eloraplm.doctypes.WebLayoutManager.contrib">

    <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
        point="layouts">

        <layout name="elora_object">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>reference</widget>
                </row>
            </rows>
        </layout>

        <layout name="elora_viewer">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>viewerFile</widget>
                </row>
                <row>
                    <widget>applyModifier</widget>
                </row>
            </rows>
        </layout>

        <layout name="cad_document">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>authoringTool</widget>
                    <widget>authoringToolVersion</widget>
                </row>
            </rows>
        </layout>

        <layout name="cad_part">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>activeConfiguration</widget>
                </row>
                <row>
                    <widget>cadType</widget>
                </row>
                <row>
                    <widget>cadClassification</widget>
                </row>
                <row>
                    <widget>cadMaterial</widget>
                </row>
                <row>
                    <widget>mass</widget>
                </row>
                <row>
                    <widget>volume</widget>
                </row>
                <row>
                    <widget>surface</widget>
                </row>
            </rows>
        </layout>

        <layout name="summary_cad_part">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>activeConfiguration</widget>
                </row>
                <row>
                    <widget>cadMaterial</widget>
                </row>
                <row>
                    <widget>mass</widget>
                </row>
                <row>
                    <widget>volume</widget>
                </row>
                <row>
                    <widget>surface</widget>
                </row>
            </rows>
        </layout>

        <layout name="cad_assembly">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>activeConfiguration</widget>
                </row>
                <row>
                    <widget>cadType</widget>
                </row>
                <row>
                    <widget>cadClassification</widget>
                </row>
                <row>
                    <widget>mass</widget>
                </row>
                <row>
                    <widget>volume</widget>
                </row>
                <row>
                    <widget>surface</widget>
                </row>
            </rows>
        </layout>

        <layout name="summary_cad_assembly">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>activeConfiguration</widget>
                </row>
                <row>
                    <widget>mass</widget>
                </row>
                <row>
                    <widget>volume</widget>
                </row>
                <row>
                    <widget>surface</widget>
                </row>
            </rows>
        </layout>

        <layout name="cad_drawing">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>cadType</widget>
                </row>
                <row>
                    <widget>cadClassification</widget>
                </row>
                <row>
                    <widget>sheetFormat</widget>
                    <widget>scale</widget>
                    <widget>numberOfSheets</widget>
                </row>
                <row>
                    <widget>templateName</widget>
                </row>
            </rows>
        </layout>
        
        <layout name="summary_cad_drawing">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>sheetFormat</widget>
                    <widget>scale</widget>
                    <widget>numberOfSheets</widget>
                </row>
                <row>
                    <widget>templateName</widget>
                </row>
            </rows>
        </layout>
        

        <layout name="cad_design_table">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>cadType</widget>
                </row>
                <row>
                    <widget>cadClassification</widget>
                </row>
                <row>
                    <widget>sourceDT</widget>
                </row>
                <row>
                    <widget>allowUpdateFromModel</widget>
                </row>
            </rows>
        </layout>
        
        
        <layout name="summary_cad_design_table">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>sourceDT</widget>
                </row>
                <row>
                    <widget>allowUpdateFromModel</widget>
                </row>
            </rows>
        </layout>
        

        <layout name="owner">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>owner</widget>
                </row>
            </rows>
        </layout>

        <layout name="partaker">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <columns>
                <column>
                    <widget>partaker</widget>
                </column>
                <column>
                    <widget>customers</widget>
                </column>
                <column>
                    <widget>manufacturers</widget>
                </column>
            </columns>
        </layout>

        <layout name="planning">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                   <widget>priority</widget>
                </row>
                <row>
                    <widget>realStartDate</widget>
                    <widget>plannedEndDate</widget>
                    <widget>realEndDate</widget>
                </row>
            </rows>
        </layout>
        
        <layout name="planning_dates">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>realStartDate</widget>
                </row>
                <row>
                    <widget>plannedEndDate</widget>
                </row>
                <row>
                    <widget>realEndDate</widget>
                </row>
            </rows>
        </layout>
        
        <layout name="project_type">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>projectType</widget>
                </row>
            </rows>
        </layout>
        
        <layout name="project_external_link">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>projectExternalLink</widget>
                </row>
            </rows>
            
            <widget name="projectExternalLink" type="text">
                <labels>
                    <label mode="any">eloraplm.label.prj.externalLink</label>
                </labels>
                <translated>true</translated>
                <fields>
                    <field>prj:externalLink</field>
                </fields>
            </widget>
        </layout>
        
        <layout name="project_edit">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>projectType</widget>
                    <widget>priority</widget>
                </row>
                <row>
                    <widget>responsible</widget>
                </row>
                <row>
                    <widget>realStartDate</widget>
                    <widget>plannedEndDate</widget>
                    <widget>realEndDate</widget>
                </row>
                <row>
                    <widget>progress</widget>
                </row>
            </rows>
        </layout>
        
        <layout name="rights">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>rights</widget>
                </row>
            </rows>
        </layout>
        
        <layout name="expired">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>expired</widget>
                </row>
            </rows>
        </layout>
        
        <layout name="subjects">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>subjects</widget>
                </row>
            </rows>
        </layout>

        <layout name="responsible">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>responsible</widget>
                </row>
            </rows>
        </layout>

        <layout name="responsible_required">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>responsible_required</widget>
                </row>
            </rows>
        </layout>

        <layout name="summaryProjectPhases" >
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>summaryProjectPhases</widget>
                </row>
            </rows>
        </layout>

        <layout name="related_partaker">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>partaker</widget>
                </row>
            </rows>
        </layout>

        <layout name="related_customer">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>customers</widget>
                </row>
            </rows>
        </layout>

        <layout name="related_manufacturer">
            <templates>
                <template mode="any">/layouts/layout_default_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>manufacturers</widget>
                </row>
            </rows>
        </layout>


        <!-- Cad Classification -->

        <layout name="cadClassLevel2_vocabulary">
            <templates>
                <template mode="any">
                    /directory/directory_layout_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>parent</widget>
                </row>
                <row>
                    <widget>xvocabulary_id</widget>
                </row>
                <row>
                    <widget>xvocabulary_label</widget>
                </row>
                <row>
                    <widget>xvocabulary_obsolete</widget>
                </row>
                <row>
                    <widget>xvocabulary_order</widget>
                </row>
            </rows>
            <widget name="parent" type="selectOneDirectory">
                <labels>
                    <label mode="any">label.vocabulary.entry.parent
                    </label>
                </labels>
                <translated>true</translated>
                <fields>
                    <field>xvocabulary:parent</field>
                </fields>
                <properties mode="any">
                    <property name="directoryName">elora_cadClassLevel1
                    </property>
                    <property name="localize">true</property>
                    <property name="displayIdAndLabel">true</property>
                </properties>
                <properties widgetMode="edit">
                    <property name="required">true</property>
                    <property name="displayObsoleteEntries">true</property>
                </properties>
            </widget>
        </layout>

        <layout name="cadClassLevel3_vocabulary">
            <templates>
                <template mode="any">
                    /directory/directory_layout_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>parent</widget>
                </row>
                <row>
                    <widget>xvocabulary_id</widget>
                </row>
                <row>
                    <widget>xvocabulary_label</widget>
                </row>
                <row>
                    <widget>xvocabulary_obsolete</widget>
                </row>
                <row>
                    <widget>xvocabulary_order</widget>
                </row>
            </rows>
            <widget name="parent" type="selectOneDirectory">
                <labels>
                    <label mode="any">label.vocabulary.entry.parent
                    </label>
                </labels>
                <translated>true</translated>
                <fields>
                    <field>xvocabulary:parent</field>
                </fields>
                <properties mode="any">
                    <property name="directoryName">elora_cadClassLevel2
                    </property>
                    <property name="localize">true</property>
                    <property name="displayIdAndLabel">true</property>
                </properties>
                <properties widgetMode="edit">
                    <property name="required">true</property>
                    <property name="displayObsoleteEntries">true</property>
                </properties>
            </widget>
        </layout>


        <layout name="cadClassHierarchical_vocabulary">
            <templates>
                <template mode="any">
                    /directory/directory_layout_template.xhtml
                </template>
            </templates>
            <rows>
                <row>
                    <widget>parent</widget>
                </row>
                <row>
                    <widget>xvocabulary_id</widget>
                </row>
                <row>
                    <widget>xvocabulary_label</widget>
                </row>
                <row>
                    <widget>xvocabulary_obsolete</widget>
                </row>
                <row>
                    <widget>xvocabulary_order</widget>
                </row>
            </rows>
            <widget name="parent" type="selectOneDirectory">
                <labels>
                    <label mode="any">label.vocabulary.entry.parent
                    </label>
                </labels>
                <translated>true</translated>
                <fields>
                    <field>xvocabulary:parent</field>
                </fields>
                <properties mode="any">
                    <property name="directoryName">elora_cadClassHierarchical
                    </property>
                    <property name="localize">true</property>
                    <property name="displayIdAndLabel">true</property>
                </properties>
                <properties widgetMode="edit">
                    <property name="displayObsoleteEntries">true</property>
                </properties>
            </widget>
        </layout>
        
        <!-- End of Cad Classification Vocabularies -->
        
        
        <!-- datatable layouts -->
        
        <layout name="project_phases_dt">
            <templates>
                <template mode="any">/layouts/layout_datatable_template.xhtml</template>
            </templates>
            <columns>
                <column name="type">
                    <properties mode="any">
                        <property name="columnHeading"></property>
                        <property name="columnStyle">max-width: 40px;</property>
                        <property name="columnStyleClass">alignCenter</property>
                    </properties>
                    <widget>tableWidget_type</widget>
                </column>
                <column name="title">
                    <properties mode="any">
                        <property name="columnHeading">eloraplm.column.dt.project.phase.title</property>
                    </properties>
                    <widget>tableWidget_title</widget>
                </column>
                <column name="description">
                    <properties mode="any">
                        <property name="columnHeading">eloraplm.column.dt.project.phase.description</property>
                        <property name="columnStyle">max-width: 45px;</property>
                        <property name="columnStyleClass">alignCenter</property>
                    </properties>
                    <widget>tableWidget_description</widget>
                </column>
                <column name="deliverables">
                    <properties mode="any">
                        <property name="columnHeading">eloraplm.column.dt.project.phase.deliverables</property>
                        <property name="columnStyle">max-width: 45px;</property>
                        <property name="columnStyleClass">alignCenter</property>
                    </properties>
                    <widget>tableWidget_deliverables</widget>
                </column>
                <column name="manager">
                    <properties mode="any">
                        <property name="columnHeading">eloraplm.column.dt.project.phase.manager</property>
                        <property name="columnStyle">max-width: 15em;</property>
                    </properties>
                    <widget>tableWidget_manager</widget>
                </column>
                <column name="realStartDate">
                    <properties mode="any">
                        <property name="columnHeading">eloraplm.column.dt.project.phase.realStartDate</property>
                        <property name="columnStyle">max-width: 10em;</property>
                    </properties>
                    <widget>tableWidget_realStartDate</widget>
                </column>
                <column name="plannedEndDate">
                    <properties mode="any">
                        <property name="columnHeading">eloraplm.column.dt.project.phase.plannedEndDate</property>
                        <property name="columnStyle">max-width: 10em;</property>
                    </properties>
                    <widget>tableWidget_plannedEndDate</widget>
                </column>
                <column name="realEndDate">
                    <properties mode="any">
                        <property name="columnHeading">eloraplm.column.dt.project.phase.realEndDate</property>
                        <property name="columnStyle">max-width: 10em;</property>
                    </properties>
                    <widget>tableWidget_realEndDate</widget>
                </column>
                <column name="progress">
                    <properties mode="any">
                        <property name="columnHeading">eloraplm.column.dt.project.phase.progress</property>
                        <property name="columnStyle">max-width: 110px;</property>
                    </properties>
                    <widget>tableWidget_progress</widget>
                </column>
                <column name="comment">
                    <properties mode="any">
                        <property name="columnHeading">eloraplm.column.dt.project.phase.comment</property>
                    </properties>
                    <widget>tableWidget_comment</widget>
                </column>
                <column name="result">
                    <properties mode="any">
                        <property name="columnHeading">eloraplm.column.dt.project.phase.result</property>
                    </properties>
                    <widget>tableWidget_result</widget>
                </column>
                <column name="obsolete">
                    <properties mode="any">
                        <property name="columnHeading">eloraplm.column.dt.project.phase.obsolete</property>
                    </properties>
                    <widget>tableWidget_obsolete</widget>
                </column>
                <column name="sortProjectPhases">
                    <properties mode="any">
                        <property name="columnHeading"></property>
                        <property name="columnStyle">max-width: 40px;</property>
                        <property name="columnStyleClass">alignCenter</property>
                    </properties>
                    <widget>tableWidget_sort_rows</widget>
                </column>
            </columns>
            <properties mode="any">
                <property name="headerFiltersTemplate"></property>
                <property name="tableTitle">eloraplm.title.project.phases</property>
                <property name="tableStyleClass">bigFont</property>
                <property name="tableStyle">table-layout: auto;</property>
                <property name="rowStyleClass">row#{rowData.type}#{rowData.obsolete ? 'obsolete' : ''}</property>
                <property name="isSortable">true</property>
                <property name="sortBy">id</property>
                <property name="sortOrder">ascending</property>
                <property name="isExportable">true</property>
                <property name="inlineEdit">true</property>
                <property name="removeRows">true</property>
                <property name="factory">#{projectPhasesData}</property>
            </properties>
            
            <widget name="tableWidget_type" type="template">
                <labels>
                    <label mode="any">eloraplm.label.project.phase.type</label>
                </labels>
                <fields>
                    <field>type</field>
                </fields>
                <widgetModes>
                    <mode value="edit">view</mode>
                </widgetModes>
                <properties mode="any">
                    <property name="template">/widgets/datatable/tablewidget_project_phase_type_template.xhtml</property>
                </properties>
            </widget>
            
            <widget name="tableWidget_title" type="inline_edit_widget">
                <labels>
                    <label mode="any">eloraplm.label.project.phase.title</label>
                </labels>
                <fields>
                    <field>title</field>
                </fields>
                <subWidgets>
                    <widget name="view" type="text">
                        <fields><field></field></fields>
                        <widgetModes><mode value="edit">view</mode></widgetModes>
                        <properties mode="any"><property name="facet">output</property></properties>
                    </widget>
                    <widget name="edit" type="text">
                        <fields><field></field></fields>
                        <widgetModes><mode value="any">edit</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">input</property>
                            <property name="required">true</property>
                        </properties>
                    </widget>
                </subWidgets>
            </widget>
            
            <widget name="tableWidget_description" type="inline_edit_widget">
                <labels>
                    <label mode="any">eloraplm.label.project.phase.description</label>
                </labels>
                <fields>
                    <field>description</field>
                </fields>
                <subWidgets>
                    <widget name="view" type="template">
                        <fields><field></field></fields>
                        <widgetModes><mode value="edit">view</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">output</property>
                            <property name="template">/widgets/datatable/tablewidget_project_phase_description_template.xhtml</property>
                        </properties>
                    </widget>
                    <widget name="edit" type="template">
                        <fields><field></field></fields>
                        <widgetModes><mode value="any">edit</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">input</property>
                            <property name="template">/widgets/datatable/tablewidget_project_phase_description_template.xhtml</property>
                        </properties>
                    </widget>
                </subWidgets>
            </widget>
            
            <widget name="tableWidget_deliverables" type="inline_edit_widget">
                <labels>
                    <label mode="any">eloraplm.label.project.phase.deliverables</label>
                </labels>
                <fields>
                    <field>deliverables</field>
                </fields>
                <subWidgets>
                    <widget name="view" type="template">
                        <fields><field></field></fields>
                        <widgetModes><mode value="edit">view</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">output</property>
                            <property name="template">/widgets/datatable/tablewidget_project_phase_deliverables_template.xhtml</property>
                        </properties>
                    </widget>
                    <widget name="edit" type="template">
                        <fields><field></field></fields>
                        <widgetModes><mode value="any">edit</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">input</property>
                            <property name="template">/widgets/datatable/tablewidget_project_phase_deliverables_template.xhtml</property>
                        </properties>
                    </widget>
                </subWidgets>
            </widget>
            
            <widget name="tableWidget_manager" type="inline_edit_widget">
                <labels>
                    <label mode="any">eloraplm.label.project.phase.manager</label>
                </labels>
                <fields>
                    <field>manager</field>
                </fields>
                <subWidgets>
                    <widget name="view" type="singleUserSuggestion">
                        <fields><field></field></fields>
                        <widgetModes><mode value="edit">view</mode></widgetModes>
                        <properties mode="any"><property name="facet">output</property></properties>
                    </widget>
                    <widget name="edit" type="singleUserSuggestion">
                        <fields><field></field></fields>
                        <widgetModes><mode value="any">edit</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">input</property>
                            <property name="userSuggestionSearchType">USER_TYPE</property>
                            <property name="minChars">1</property>
                            <property name="hideHelpLabel">true</property>
                        </properties>
                    </widget>
                </subWidgets>
            </widget>
            <widget name="tableWidget_realStartDate" type="inline_edit_widget">
                <labels>
                    <label mode="any">eloraplm.label.project.phase.realStartDate</label>
                </labels>
                <fields>
                    <field>realStartDate</field>
                    <field>type</field>
                </fields>
                <subWidgets>
                    <widget name="view" type="text">
                        <fields><field>#{field_0}</field></fields>
                        <widgetModes><mode value="edit">view</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">output</property>
                            <property name="pattern">#{nxu:basicDateFormatter()}</property>
                        </properties>
                    </widget>
                    <widget name="propagateDateOutput" type="template">
                        <fields><field>#{field_0}</field><field>#{field_1}</field></fields>
                        <properties mode="any">
                            <property name="facet">output</property>
                            <property name="template">/widgets/datatable/tablewidget_project_phases_propagate_date.xhtml</property>
                            <property name="fieldToPropagate">realStartDate</property>
                        </properties>
                    </widget>
                    <widget name="edit" type="text">
                        <fields><field>#{field_0}</field></fields>
                        <widgetModes><mode value="any">edit</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">input</property>
                            <property name="styleClass">dataInputText</property>
                            <property name="format">#{nxu:basicDateFormatter()}</property>
                        </properties>
                    </widget>
<!--                     <widget name="propagateDateInput" type="template"> -->
<!--                         <fields><field>#{field_0}</field><field>#{field_1}</field></fields> -->
<!--                         <properties mode="any"> -->
<!--                             <property name="facet">input</property> -->
<!--                             <property name="template">/widgets/datatable/tablewidget_project_phases_propagate_date.xhtml</property> -->
<!--                             <property name="fieldToPropagate">realStartDate</property> -->
<!--                         </properties> -->
<!--                     </widget> -->
                </subWidgets>
            </widget>
            <widget name="tableWidget_plannedEndDate" type="inline_edit_widget">
                <labels>
                    <label mode="any">eloraplm.label.project.phase.plannedEndDate</label>
                </labels>
                <fields>
                    <field>plannedEndDate</field>
                    <field>type</field>
                </fields>
                <subWidgets>
                    <widget name="view" type="text">
                        <fields><field>#{field_0}</field></fields>
                        <widgetModes><mode value="edit">view</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">output</property>
                            <property name="pattern">#{nxu:basicDateFormatter()}</property>
                        </properties>
                    </widget>
                    <widget name="propagateDateOutput" type="template">
                        <fields><field>#{field_0}</field><field>#{field_1}</field></fields>
                        <properties mode="any">
                            <property name="facet">output</property>
                            <property name="template">/widgets/datatable/tablewidget_project_phases_propagate_date.xhtml</property>
                            <property name="fieldToPropagate">plannedEndDate</property>
                        </properties>
                    </widget>
                    <widget name="edit" type="text">
                        <fields><field>#{field_0}</field></fields>
                        <widgetModes><mode value="any">edit</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">input</property>
                            <property name="styleClass">dataInputText</property>
                            <property name="format">#{nxu:basicDateFormatter()}</property>
                        </properties>
                    </widget>
<!--                     <widget name="propagateDateInput" type="template"> -->
<!--                         <fields><field>#{field_0}</field><field>#{field_1}</field></fields> -->
<!--                         <properties mode="any"> -->
<!--                             <property name="facet">input</property> -->
<!--                             <property name="template">/widgets/datatable/tablewidget_project_phases_propagate_date.xhtml</property> -->
<!--                             <property name="fieldToPropagate">plannedEndDate</property> -->
<!--                         </properties> -->
<!--                     </widget> -->
                </subWidgets>
            </widget>
            <widget name="tableWidget_realEndDate" type="inline_edit_widget">
                <labels>
                    <label mode="any">eloraplm.label.project.phase.realEndDate</label>
                </labels>
                <fields>
                    <field>realEndDate</field>
                    <field>type</field>
                </fields>
                <subWidgets>
                    <widget name="view" type="text">
                        <fields><field>#{field_0}</field></fields>
                        <widgetModes><mode value="edit">view</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">output</property>
                            <property name="pattern">#{nxu:basicDateFormatter()}</property>
                        </properties>
                    </widget>
                    <widget name="propagateDateOutput" type="template">
                        <fields><field>#{field_0}</field><field>#{field_1}</field></fields>
                        <properties mode="any">
                            <property name="facet">output</property>
                            <property name="template">/widgets/datatable/tablewidget_project_phases_propagate_date.xhtml</property>
                            <property name="fieldToPropagate">realEndDate</property>
                        </properties>
                    </widget>
                    <widget name="edit" type="text">
                        <fields><field>#{field_0}</field></fields>
                        <widgetModes><mode value="any">edit</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">input</property>
                            <property name="styleClass">dataInputText</property>
                            <property name="format">#{nxu:basicDateFormatter()}</property>
                        </properties>
                    </widget>
<!--                     <widget name="propagateDateInput" type="template"> -->
<!--                         <fields><field>#{field_0}</field><field>#{field_1}</field></fields> -->
<!--                         <properties mode="any"> -->
<!--                             <property name="facet">input</property> -->
<!--                             <property name="template">/widgets/datatable/tablewidget_project_phases_propagate_date.xhtml</property> -->
<!--                             <property name="fieldToPropagate">realEndDate</property> -->
<!--                         </properties> -->
<!--                     </widget> -->
                </subWidgets>
            </widget>
            <widget name="tableWidget_progress" type="inline_edit_widget">
                <labels>
                    <label mode="any">eloraplm.label.project.phase.progress</label>
                </labels>
                <fields>
                    <field>progress</field>
                </fields>
                <subWidgets>
                    <widget name="view" type="colored_percentage">
                        <fields><field></field></fields>
                        <widgetModes><mode value="edit">view</mode></widgetModes>
                        <properties mode="any"><property name="facet">output</property></properties>
                    </widget>
                    <widget name="edit" type="colored_percentage">
                        <fields><field></field></fields>
                        <widgetModes><mode value="any">edit</mode></widgetModes>
                        <properties mode="any"><property name="facet">input</property></properties>
                    </widget>
                </subWidgets>
            </widget>
            <widget name="tableWidget_comment" type="inline_edit_widget">
                <labels>
                    <label mode="any">eloraplm.label.project.phase.comment</label>
                </labels>
                <fields>
                    <field>comment</field>
                </fields>
                <subWidgets>
                    <widget name="view" type="textarea">
                        <fields><field></field></fields>
                        <widgetModes><mode value="edit">view</mode></widgetModes>
                        <properties mode="any"><property name="facet">output</property></properties>
                    </widget>
                    <widget name="edit" type="textarea">
                        <fields><field></field></fields>
                        <widgetModes><mode value="any">edit</mode></widgetModes>
                        <properties mode="any"><property name="facet">input</property></properties>
                    </widget>
                </subWidgets>
            </widget>
            <widget name="tableWidget_result" type="inline_edit_widget">
                <labels>
                    <label mode="any">eloraplm.label.project.phase.result</label>
                </labels>
                <fields>
                    <field>result</field>
                </fields>
                <subWidgets>
                    <widget name="view" type="selectOneDirectory">
                        <fields><field></field></fields>
                        <widgetModes><mode value="edit">view</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">output</property>
                            <property name="directoryName">elora_projectResult</property>
                            <property name="localize">true</property>
                        </properties> 
                    </widget>
                    <widget name="edit" type="selectOneDirectory">
                        <fields><field></field></fields>
                        <widgetModes><mode value="any">edit</mode></widgetModes>
                        <properties mode="any">
                            <property name="facet">input</property>
                            <property name="directoryName">elora_projectResult</property>
                            <property name="minChars">0</property>
                            <property name="hideHelpLabel">true</property>
                            <property name="localize">true</property>
                        </properties>
                    </widget>
                </subWidgets>
            </widget>
            <widget name="tableWidget_obsolete" type="inline_edit_widget">
                <labels>
                    <label mode="any">eloraplm.label.project.phase.obsolete</label>
                </labels>
                <fields>
                    <field>obsolete</field>
                </fields>
                <subWidgets>
                    <widget name="view" type="checkbox">
                        <fields><field></field></fields>
                        <widgetModes><mode value="edit">view</mode></widgetModes>
                        <properties mode="any"><property name="facet">output</property></properties> 
                    </widget>
                    <widget name="edit" type="checkbox">
                        <fields><field></field></fields>
                        <widgetModes><mode value="any">edit</mode></widgetModes>
                        <properties mode="any"><property name="facet">input</property></properties>
                    </widget>
                </subWidgets>
            </widget>
            <widget name="tableWidget_sort_rows" type="template">
                <fields>
                    <field></field>
                </fields>
                <properties mode="any">
                    <property name="template">/widgets/datatable/tablewidget_project_phases_sort_rows.xhtml
                </property>
            </properties>
            </widget>
        </layout>
        
        <!-- end of datatable layouts -->

    </extension>

    <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
        point="widgets">

        <widget name="viewerFile" type="template">
            <labels>
                <label mode="any">label.widget.elovwr.file</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>elovwr:baseFile</field>
                <field>elovwr:filename</field>
            </fields>
            <properties mode="any">
                <property name="template">/widgets/extended_file_widget.xhtml
                </property>
            </properties>
        </widget>
        
        <widget name="applyModifier" type="template">
            <labels>
                <label mode="any">label.widget.elovwr.applyModifier</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>elovwr:applyModifier</field>
            </fields>
            <properties widgetMode="any">
                <property name="template">/widgets/boolean_yes_no_widget_template.xhtml</property>
            </properties>
        </widget>

        <widget name="authoringTool" type="selectOneDirectory">
            <labels>
                <label mode="any">label.widget.cad.authoringTool</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>cad:authoringTool</field>
            </fields>
            <properties widgetMode="any">
                <property name="directoryName">elora_authoring_tools</property>
                <property name="required">true</property>
            </properties>
        </widget>

        <widget name="authoringToolVersion" type="text">
            <labels>
                <label mode="any">label.widget.cad.authoringToolVersion
                </label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>cad:authoringToolVersion</field>
            </fields>
            <properties widgetMode="edit">
                <property name="required">true</property>
                <property name="styleClass">dataInputText</property>
            </properties>
        </widget>

        <widget name="activeConfiguration" type="text">
            <labels>
                <label mode="any">label.widget.cad.activeConfiguration
                </label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>cad:activeConfiguration</field>
            </fields>
            <!-- <properties widgetMode="edit"> -->
            <!-- <property name="styleClass">dataInputText</property> -->
            <!-- </properties> -->
        </widget>

        <widget name="cadType" type="selectOneDirectory">
            <labels>
                <label mode="any">label.widget.cad.cadType</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>cad:cadType</field>
            </fields>
            <widgetModes>
                <mode value="view">#{currentDocument.hasFacet('CadDocument')?'view':'hidden'}
                </mode>
            </widgetModes>
            <properties widgetMode="any">
                <property name="directoryName">elora_cadType</property>
                <property name="required">true</property>
                <property name="localize">true</property>
            </properties>
        </widget>

        <widget name="cadClassification" type="suggestOneDirectory">
            <labels>
                <label mode="any">label.widget.cad.cadClassification
                </label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>cad:cadClassification</field>
            </fields>
            <widgetModes>
                <mode value="view">#{currentDocument.hasFacet('CadDocument')?'view':'hidden'}
                </mode>
            </widgetModes>
            <properties widgetMode="any">
                <property name="directoryName">elora_cadClassHierarchical
                </property>
                <property name="hideHelpLabel">true</property>
                <property name="required">false</property>
            </properties>
        </widget>

        <widget name="cadMaterial" type="text">
            <labels>
                <label mode="any">label.widget.cad.cadMaterial</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>cad:cadMaterial</field>
            </fields>
        </widget>

        <widget name="mass" type="measure_value_and_unit">
            <labels>
                <label mode="any">label.widget.cad.mass</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>cad:mass</field>
                <field>cad:massUnit</field>
            </fields>
        </widget>

        <widget name="volume" type="measure_value_and_unit">
            <labels>
                <label mode="any">label.widget.cad.volume</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>cad:volume</field>
                <field>cad:volumeUnit</field>
            </fields>
        </widget>

        <widget name="surface" type="measure_value_and_unit">
            <labels> 
                <label mode="any">label.widget.cad.surface</label>
            </labels>
            <translated>true</translated> 
            <fields>
                <field>cad:surface</field>
                <field>cad:surfaceUnit</field>
            </fields> 
        </widget>


        <widget name="sheetFormat" type="text">
            <labels>
                <label mode="any">label.widget.cadDrawing.sheetFormat
                </label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>caddrw:sheetFormat</field>
            </fields>
        </widget>

        <widget name="scale" type="text">
            <labels>
                <label mode="any">label.widget.cadDrawing.scale</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>caddrw:scale</field>
            </fields>
        </widget>

        <widget name="numberOfSheets" type="elora_decimal">
            <labels>
                <label mode="any">label.widget.cadDrawing.numberOfSheets
                </label>
            </labels>
            <fields>
                <field>caddrw:numberOfSheets</field>
            </fields>
        </widget>

        <widget name="templateName" type="text">
            <labels>
                <label mode="any">label.widget.cadDrawing.templateName
                </label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>caddrw:templateName</field>
            </fields>
        </widget>

        <widget name="sourceDT" type="text">
            <labels>
                <label mode="any">label.widget.cadDesignTable.source
                </label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>caddtb:sourceDT</field>
            </fields>
        </widget>

        <widget name="allowUpdateFromModel" type="text">
            <labels>
                <label mode="any">label.widget.cadDesignTable.allowUpdateFromModel
                </label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>caddtb:allowUpdateFromModel</field>
            </fields>
        </widget>

        <widget name="projectType" type="selectOneDirectory">
            <labels>
                <label mode="any">label.widget.project.projectType
                </label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>prj:projectType</field>
            </fields>
            <properties widgetMode="any">
                <property name="directoryName">elora_projectType</property>
                <property name="required">false</property>
            </properties>
        </widget>
        
        <widget name="listing_project_type" type="selectOneDirectory">
            <labels>
                <label mode="any">label.widget.project.projectType
                </label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>data.prj.projectType</field>
            </fields>
            <properties widgetMode="any">
                <property name="directoryName">elora_projectType</property>
                <property name="required">false</property>
            </properties>
        </widget>
        
        <widget name="owner" type="suggestOneDirectory">
            <labels>
                <label mode="any">eloraplm.label.owner
                </label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>own:owner</field>
            </fields>
            <properties mode="any">
                <property name="width">100%</property>
                <property name="minChars">3</property>
                <property name="directoryName">elora_erpCustomers</property>
            </properties>
        </widget>

        <widget name="responsible" type="singleUserSuggestion">
            <labels>
                <label mode="any">label.widget.responsible.responsible</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>resp:responsible</field>
            </fields>
            <properties mode="any">
                <property name="userSuggestionSearchType">USER_TYPE</property>
                <property name="minChars">1</property>
            </properties>
            <controls mode="any">
                <!-- enable ajax submit on change/click/select on demo application -->
                <control name="supportInsideInputWidgetEffects">true</control>
            </controls>
        </widget>

        <widget name="responsible_required" type="singleUserSuggestion">
            <labels>
                <label mode="any">label.widget.responsible.responsible</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>resp:responsible</field>
            </fields>
            <properties mode="any">
                <property name="userSuggestionSearchType">USER_TYPE</property>
                <property name="minChars">1</property>
            </properties>
            <properties widgetMode="edit">
                <property name="required">true</property>
            </properties>
            <controls mode="any">
                <!-- enable ajax submit on change/click/select on demo application -->
                <control name="supportInsideInputWidgetEffects">true</control>
            </controls>
        </widget>
        
        <widget name="listing_current_phase" type="template">
            <labels>
                <label mode="any">eloraplm.label.prj.currentPhase</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>data</field>
            </fields>
            <properties widgetMode="any">
                <property name="template">/widgets/listing/listing_current_phase_widget_template.xhtml</property>
            </properties>
        </widget>
        
        <widget name="listing_current_phase_manager" type="template">
            <labels>
                <label mode="any">eloraplm.label.prj.currentPhaseManager</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>data</field>
            </fields>
            <properties widgetMode="any">
                <property name="template">/widgets/listing/listing_current_phase_manager_widget_template.xhtml</property>
            </properties>
        </widget>
        
        
        <widget name="listing_current_phase_planned_end_date" type="template">
            <labels>
                <label mode="any">eloraplm.label.prj.currentPhasePlannedEndDate</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>data</field>
            </fields>
            <properties widgetMode="any">
                <property name="template">/widgets/listing/listing_current_phase_planned_end_date_widget_template.xhtml</property>
            </properties>
        </widget>
        
        <widget name="realStartDate" type="datetime">
            <labels>
                <label mode="any">label.widget.planning.realStartDate</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>plan:realStartDate</field>
            </fields>
            <properties mode="any">
                <property name="format">#{nxu:basicDateFormatter()}</property>
            </properties>
            <properties mode="view">
                <property name="pattern">#{nxu:basicDateFormatter()}</property>
            </properties>
        </widget>

        <widget name="plannedEndDate" type="datetime">
            <labels>
                <label mode="any">label.widget.planning.plannedEndDate</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>plan:plannedEndDate</field>
            </fields>
            <properties mode="any">
                <property name="format">#{nxu:basicDateFormatter()}</property>
            </properties>
            <properties mode="view">
                <property name="pattern">#{nxu:basicDateFormatter()}</property>
            </properties>
        </widget>
        
        <widget name="listing_plannedEndDate" type="datetime">
            <labels>
                <label mode="any">label.widget.planning.plannedEndDate</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>data.plan.plannedEndDate</field>
            </fields>
            <properties mode="any">
                <property name="pattern">#{nxu:basicDateFormatter()}</property>
            </properties>
        </widget>

        <widget name="realEndDate" type="datetime">
            <labels>
                <label mode="any">label.widget.planning.realEndDate</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>plan:realEndDate</field>
            </fields>
            <properties mode="any">
                <property name="format">#{nxu:basicDateFormatter()}</property>
            </properties>
            <properties mode="view">
                <property name="pattern">#{nxu:basicDateFormatter()}</property>
            </properties>
        </widget>
        
        <widget name="progress" type="colored_percentage">
            <labels>
                <label mode="any">label.widget.planning.progress</label>
            </labels>
            <fields>
                <field>plan:progress</field>
            </fields>
        </widget>
        
        <widget name="listing_progress" type="colored_percentage">
            <labels>
                <label mode="any">label.widget.planning.progress</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>data.plan.progress</field>
            </fields>
        </widget>
        
        <widget name="summaryProjectPhases" type="summary_project_phases_list">
         <labels>
            <label mode="any">label.widget.project.projectPhaseList</label>
          </labels>
          <handlingLabels>true</handlingLabels>
          <translated>true</translated>
        </widget>

        <widget name="partaker" type="suggestOneDirectory">
            <labels>
                <label mode="any">label.widget.ptk.partaker</label>
            </labels>
            <translated>true</translated>
            <fields>
                <field>ptk:partaker</field>
            </fields>
            <properties widgetMode="any">
                <property name="hideHelpLabel">true</property>
                <property name="directoryName">elora_partaker</property>
                <property name="required">false</property>
            </properties>
        </widget>

        <widget name="customers" type="suggestManyDirectory">
            <labels>
                <label mode="any">label.widget.cust.customer</label>
            </labels>
            <helpLabels>
                <label mode="edit">label.dublincore.subjects.info</label>
            </helpLabels>
            <translated>true</translated>
            <fields>
                <field>cust:customers</field>
            </fields>
            <properties mode="any">
                <property name="width">100%</property>
                <property name="minChars">0</property>
                <property name="hideHelpLabel">true</property>
                <property name="directoryName">elora_erpCustomers</property>
            </properties>
        </widget>

        <widget name="manufacturers" type="suggestManyDirectory">
            <labels>
                <label mode="any">label.widget.manu.manufacturer</label>
            </labels>
            <helpLabels>
                <label mode="edit">label.dublincore.subjects.info</label>
            </helpLabels>
            <translated>true</translated>
            <fields>
                <field>manu:manufacturers</field>
            </fields>
            <properties mode="any">
                <property name="width">100%</property>
                <property name="minChars">0</property>
                <property name="hideHelpLabel">true</property>
                <property name="directoryName">elora_erpManufacturers
                </property>
            </properties>
        </widget>
        
        <!-- datatable widgets -->
        
        <widget name="project_phases_dt" type="datatable">
            <labels>
                <label mode="any">eloraplm.label.datatable.project.phases</label>
            </labels>
            <widgetModes>
                <mode value="any">#{
                         nxd:hasPermission(currentDocument, 'Write')
                         and (not currentDocument.isLocked()
                            or currentDocumentLockDetails['document.locker'] eq currentUser)? 'edit' : 'view'}</mode>
            </widgetModes>
            <properties widgetMode="any">
                <property name="datatableLayout">project_phases_dt</property>
            </properties>
        </widget>
        
        <!-- end of datatable widgets -->
        
        <widget name="edit_phase_deliverable" type="list">
            <labels>
                <label mode="any">eloraplm.label.project.phase.deliverables</label>
            </labels>
            <handlingLabels>true</handlingLabels>
            <translated>true</translated>
            <fields><field></field></fields>
            <properties widgetMode="any">
                <property name="display">table</property>
            </properties>
            <properties widgetMode="edit">
                <property name="listTemplateItem">#{nxd:propertyDefaultValue('project:projectPhaseList/deliverables')}</property>
            </properties>
            <subWidgets>
                <widget name="isRequired" type="checkbox">
                    <labels>
                        <label mode="any">eloraplm.label.project.phase.deliverable.isRequired</label>
                    </labels>
                    <fields>
                        <field>isRequired</field>
                    </fields>
                </widget>
                <widget name="name" type="text">
                    <labels>
                        <label mode="any">eloraplm.label.project.phase.deliverable.name</label>
                    </labels>
                    <fields>
                        <field>name</field>
                    </fields>
                </widget>
                <widget name="document" type="template">
                    <labels>
                        <label mode="any">eloraplm.label.project.phase.deliverable.document</label>
                    </labels>
                    <fields>
                        <field></field>
                    </fields>
                    <properties widgetMode="any">
                        <property name="template">/widgets/datatable/tablewidget_project_phase_edit_deliverable_document_template.xhtml</property>
                    </properties>
                </widget>
                <widget name="link" type="text">
                    <labels>
                        <label mode="any">eloraplm.label.project.phase.deliverable.link</label>
                    </labels>
                    <fields>
                        <field>link</field>
                    </fields>
                </widget>
            </subWidgets>
        </widget>
        
        <widget name="add_phase_deliverable" type="list">
            <labels>
                <label mode="any">eloraplm.label.project.phase.deliverables</label>
            </labels>
            <handlingLabels>true</handlingLabels>
            <translated>true</translated>
            <fields><field></field></fields>
            <properties widgetMode="any">
                <property name="display">table</property>
            </properties>
            <properties widgetMode="edit">
                <property name="listTemplateItem">#{nxd:propertyDefaultValue('project:projectPhaseList/deliverables')}</property>
            </properties>
            <subWidgets>
                <widget name="isRequired" type="checkbox">
                    <labels>
                        <label mode="any">eloraplm.label.project.phase.deliverable.isRequired</label>
                    </labels>
                    <fields>
                        <field>isRequired</field>
                    </fields>
                </widget>
                <widget name="name" type="text">
                    <labels>
                        <label mode="any">eloraplm.label.project.phase.deliverable.name</label>
                    </labels>
                    <fields>
                        <field>name</field>
                    </fields>
                </widget>
                <!-- <widget name="document" type="singleDocumentSuggestion">
                    <labels>
                        <label mode="any">eloraplm.label.project.phase.deliverable.document</label>
                    </labels>
                    <fields>
                        <field>document</field>
                    </fields>
                    <properties widgetMode="any">
                        <property name="pageProviderName">other_document_proxy_in_content_suggestion</property>
                        <property name="additionalOperationParameters">eloraPassQueryTermsTwice</property>
                        <property name="documentSchemas">dublincore,common,elora_object,template_info</property>
                    </properties>
                </widget>
                <widget name="link" type="text">
                    <labels>
                        <label mode="any">eloraplm.label.project.phase.deliverable.link</label>
                    </labels>
                    <fields>
                        <field>link</field>
                    </fields>
                </widget> -->
            </subWidgets>
        </widget>
        
    </extension>
    
    <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager" point="widgettypes">
        
        <widgetType name="summary_project_phases_list">
          <handler-class>
            org.nuxeo.ecm.platform.forms.layout.facelets.plugins.TemplateWidgetTypeHandler
          </handler-class>
          <property name="template">
            /widgets/summary/project_phases_list_widget_template.xhtml
          </property>
        </widgetType>
        
    </extension>

</component>  
