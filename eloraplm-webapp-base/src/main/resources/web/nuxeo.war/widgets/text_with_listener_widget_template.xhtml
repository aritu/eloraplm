<f:subview
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:panelGroup rendered="#{value.level == '1' or not widget.properties.showOnlyOnFirstLevel}">
        
        <!-- EDIT MODE -->
        <c:if test="#{widget.mode == 'edit'}">
            
            <h:inputText id="value_field" value="#{field}"
                styleClass="#{eloraWebActions.evaluateString(widget.properties.styleClass)}">
                
                <c:if test="#{widget.properties.required}">
                    <f:validateRequired />
                </c:if>
                
                <c:if test="#{not empty widget.properties.templateForListener}">
                    <ui:include src="#{widget.properties.templateForListener}" />
                </c:if>
                
            </h:inputText>
            
            <h:message for="value_field" styleClass="errorMessage" />
            
        </c:if>
        
        <!-- VIEW MODE -->
        <c:if test="#{widget.mode == 'view'}">
            <h:outputText value="#{field}" />
        </c:if>
        
    </h:panelGroup>
    
</f:subview>